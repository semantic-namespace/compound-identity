{:meta
 {:version "0.2.0",
  :system "calendar-availability",
  :description "Minimal semantic ontology for solo dev"},
 :entity-types
 #:semantic-namespace{:component
                      {:description "Infrastructure component",
                       :tiers [:tier/foundation]},
                      :function
                      {:description "Business logic function",
                       :required-props [:context :response :deps],
                       :tiers [:tier/service :tier/api]},
                      :endpoint
                      {:description
                       "API endpoint (must also be function)",
                       :implies [:semantic-namespace/function]},
                      :data-schema
                      {:description "Data structure definition",
                       :required-props [:fields]}},
 :aspect-categories
 {:tier
  {:description "Architectural layer",
   :values [:tier/foundation :tier/service :tier/api]},
  :domain
  {:description "Business domain",
   :values [:domain/users :domain/scheduling :domain/google]},
  :effect {:description "Side effect profile", :values [:effect/pure]},
  :integration
  {:description "Integration boundary",
   :values [:integration/external]},
  :protocol
  {:description "Communication protocol", :values [:protocol/oauth]}},
 :axioms
 [{:id :endpoint-is-function,
   :applies-to :semantic-namespace/endpoint,
   :rule "Endpoints must also have :semantic-namespace/function"}]}
